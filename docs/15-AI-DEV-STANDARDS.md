# 15. AI 開發軟工標準文件與互動標準

> 維護時可引用：**AI 開發時應參照哪些文件、如何與需求對齊、互動約定**。

---

## 一、AI 開發時應參照的軟工標準文件

以下為**開發時應具備或參照**的標準文件清單。專案若採用「從客戶到交付開發」體系（`docs/from-client-to-dev/`），以該目錄編號為準；若為產品／願景型文件（`docs/01-`～`docs/14-`），以對應說明為準。

### 1. 需求與範圍（開發前必讀）

| 類型 | 路徑／文件 | 用途 | AI 開發時機 |
|------|------------|------|-------------|
| 專案目的與範圍 | `docs/from-client-to-dev/01-PROJECT-PURPOSE-AND-SCOPE.md` 或 `docs/01-VISION-AND-GOALS.md` | 知道「要做什麼、不做什麼」 | 開發前、範圍疑義時 |
| 功能需求 | `docs/from-client-to-dev/03-FUNCTIONAL-REQUIREMENTS.md` 或 `docs/03-USER-STORY.md` 等 | 功能列表、優先級、驗收條件 | 實作任一功能前 |
| 非功能需求 | `docs/from-client-to-dev/04-NON-FUNCTIONAL-REQUIREMENTS.md` | 效能、安全、維運、介面 | 設計架構、API、部署時 |
| 名詞定義與邊界 | `docs/from-client-to-dev/05-GLOSSARY-AND-BOUNDARY.md` | 用語一致、排除範圍 | 命名、註解、文件時 |
| 使用者故事與情境 | `docs/from-client-to-dev/06-USER-STORIES-AND-SCENARIOS.md` 或 `docs/03-USER-STORY.md` | 誰、何時、做什麼、結果、驗收 | 實作流程與 UI 時 |

**原則**：專案內若有 `docs/from-client-to-dev/`，優先以 00～10 為準；若無，以 `docs/` 下既有編號文件為準。未存在的文件可標註「待補」或略過。

### 2. 技術與設計（實作時對齊）

| 類型 | 路徑／文件 | 用途 | AI 開發時機 |
|------|------------|------|-------------|
| 技術備忘 | `docs/from-client-to-dev/08-TECHNICAL-MEMO.md` 或專案既有技術／API／部署文件 | 技術棧、介面規格、權限、部署 | 選型、寫 API、部署時 |
| 介面與流程 | `docs/from-client-to-dev/07-WIREFRAME-AND-UI.md` | 畫面、流程、Wireframe | 實作 UI 與流程時 |
| 階段規劃 | `docs/02-ROADMAP.md` 等 | 階段、優先順序、目前進度 | 排程、取捨功能時 |

### 3. 交付與檢查（完成時對齊）

| 類型 | 路徑／文件 | 用途 | AI 開發時機 |
|------|------------|------|-------------|
| 交付檢查清單 | `docs/from-client-to-dev/10-HANDOVER-CHECKLIST.md` | 檢查項、任務對應、聯絡窗口 | 完成功能或迭代後 |
| 任務／工項對應 | 同上或專案任務清單 | 需求編號 ↔ 任務 ↔ 驗收 | 更新進度、回報完成時 |

---

## 二、互動標準：讓 AI 開發對齊需求

以下為**與 AI 協作開發時的互動約定**，目的在於：需求可追溯、驗收可對照、用語一致、變更可同步。

### 1. 開發前（Before Implementation）

| 約定 | 說明 |
|------|------|
| **對應需求** | 實作前先確認「此功能對應哪一項需求」（例如 03 的 F01、06 的情境 1）；若無對應，先與使用者確認是否在範圍內。 |
| **讀取驗收條件** | 從 03 功能需求或 06 使用者故事讀取該項的**驗收條件**，作為實作完成與自檢的依據。 |
| **讀取技術約束** | 從 08 技術備忘（或專案技術文件）確認技術棧、介面規格、權限、部署限制，避免與既有約定衝突。 |
| **確認範圍邊界** | 從 01 專案目的與範圍或 05 名詞定義與邊界確認「不做」的項目，不實作範圍外功能。 |

**AI 可採用的回應方式**：簡要註明「對應需求：docs/from-client-to-dev/03 之 F01」「驗收條件：OOO」。

### 2. 實作時（During Implementation）

| 約定 | 說明 |
|------|------|
| **用語對齊** | 變數、API、註解、文件中的關鍵術語，對齊 05 名詞定義；若有新術語，建議補進 05 或標註待補。 |
| **技術對齊** | 技術選型、目錄結構、介面格式依 08 技術備忘；若需偏離，先註明理由或建議更新 08。 |
| **不超出範圍** | 不新增 01／05 已列為「不做」或「排除」的功能；若有模糊地帶，註明「待釐清」或詢問使用者。 |
| **可追溯** | 程式註解或 commit 訊息可簡要標註對應需求編號（例如 `#F01`、`對應 06 情境 1`），便於日後對照。 |

### 3. 完成時（After Implementation）

| 約定 | 說明 |
|------|------|
| **自檢驗收條件** | 完成功能後，依 03／06 的驗收條件自我檢查；若未滿足，補實作或註明限制與後續項目。 |
| **更新檢查清單** | 若專案有 10 交付檢查清單或任務對應表，可更新該任務狀態（例如「完成」）或勾選檢查項。 |
| **標註待補** | 若發現文件缺漏（例如驗收條件不明、介面未定），在對應文件標註「待補」或建議使用者補上。 |

### 4. 變更時（When Requirements or Scope Change）

| 約定 | 說明 |
|------|------|
| **同步更新文件** | 若使用者變更需求或範圍，除修改程式外，依依賴關係同步更新對應文件（例如：改 01 範圍 → 檢查 03、05、09、10）。 |
| **影響範圍說明** | 變更時可簡要列出「影響的需求編號、影響的檔案、建議一併更新的文件」，供使用者確認。 |
| **迭代標註** | 若某項改為「下一階段再做」或「不做」，在 03／06／10 中標註狀態或移至待辦，避免重複實作。 |

---

## 三、互動格式建議（AI 回應時可選用）

為便於對齊與追溯，AI 在開發相關回應中可視情況採用下列格式：

- **對應需求**：`對應 docs/from-client-to-dev/03 之 F01` 或 `依 06 情境 1`。
- **驗收對照**：`驗收條件：OOO；目前實作已涵蓋／未涵蓋 OOO`。
- **技術依據**：`依 08 技術備忘採用 OO 技術／OO 介面`。
- **範圍提醒**：`依 01 範圍邊界，OO 不納入本階段實作`。
- **待補建議**：`建議在 05 名詞定義補上「OO」；建議在 03 補上驗收條件 OOO`。

使用者亦可要求 AI：「實作時請標註對應需求編號」「完成後請幫我更新 10 檢查清單」。

---

## 四、專案內如何啟用

1. **文件就位**：確保需求與技術文件已存在（可為 `docs/from-client-to-dev/` 或 `docs/01-`～`14-`）；未就緒處標註「待補」。
2. **Rule 啟用**：專案內 `.cursor/rules/ai-dev-alignment.mdc` 已定義「開發時對齊需求與標準文件」之約定，AI 在編輯程式碼時會依該 Rule 參照本文件。
3. **主動引用**：下達開發指令時可主動說「請對齊 03 功能需求與 08 技術備忘」「完成後請對照 06 驗收條件」，強化對齊。

---

## 五、小結

| 重點 | 說明 |
|------|------|
| **標準文件** | 需求與範圍（01、03、04、05、06）、技術與設計（07、08）、交付與檢查（10）；可與專案既有 docs 並存。 |
| **互動標準** | 開發前對應需求與驗收、實作時用語與技術對齊、完成時自檢與更新清單、變更時同步更新文件。 |
| **對齊方式** | 命名與用語對齊 05、技術對齊 08、驗收對照 03／06、可選標註需求編號與待補建議。 |

---

**維護約定**：若新增標準文件類型或互動約定，請在本文件與 `.cursor/rules/ai-dev-alignment.mdc` 同步更新。引用時請用相對路徑，例如：`見 docs/15-AI-DEV-STANDARDS.md`。
